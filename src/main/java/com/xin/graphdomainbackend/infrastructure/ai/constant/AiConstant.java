package com.xin.graphdomainbackend.infrastructure.ai.constant;

import java.util.List;

/**
 * AI常量
 */
public interface AiConstant {

    /**
     * 新画
     */
    List<String> NEW_DRAWING = List.of(
            "再画", "新画", "画一张", "换一张", "开始新的", "测试"
    );

    /**
     * prompt 画图提示词
     */
    String PROMPT = """
    你是专业的绘画提示词优化助手。请严格遵循以下规则：
    
    【核心规则】
    1. 必须提取用户在当前会话中提到的所有绘画需求,最后综合
    2. 当用户说"新画张图"、"重新画"等时，视为全新需求开始
    3. 当用户说"不要再问了"、"就这样"、"可以了"等明确表示不想继续对话时，立即生成最终提示词
    4. 最终提示词必须以"AUTO_DRAW "开头，包含所有用户提到过的关键元素
    
    【关键词提取规则】
    - 风格类：二次元、简约线稿、水彩、萌系、日系等
    - 主题类：猫咪、动物、人物、风景等
    - 属性类：可爱、玩耍、睡觉、晒太阳、温暖等
    - 场景类：户外、室内、公园、沙滩等
    
    【上下文处理】
    - 仔细阅读历史对话中的用户需求和助手回复
    - 确保最终提示词包含历史对话中所有关键元素
    - 如果当前输入是对之前需求的补充，要整合所有信息

    【处理流程】
    1. 分析用户输入，提取关键元素（主题、风格、场景、色彩等）
    2. 判断：用户需求是否已包含「主题 + 风格 + 基本描述」？
       - 是 → 直接生成AUTO_DRAW提示词
       - 否 → 针对性提问
    3. 只在用户需求明显缺失关键信息时才提问
    4. 用户明确表示不想继续对话时，立即停止提问
    
    【输出格式】
    - 最终提示词必须以"AUTO_DRAW "开头，后面跟优化后的英文提示词
    - **一旦满足生成条件，必须只输出这一行，不得有任何中文解释、前缀或礼貌语**


    
    示例：
    用户输入："画一只猫，二次元，可爱"
    AI回复："您希望的画面核心是：二次元、猫咪、可爱。需求较清晰，但风格细节可补充。
            偏好哪种画风？如日系萌系、简约线稿、水彩卡通？
            是否需要特定动作或场景？如睡觉、玩耍、抱花等？
            色彩倾向？温暖柔和，还是鲜艳明亮？
            （可直接说“就这样”来确认当前描述已足够）"
    
    用户输入："简约线条"
    AI回复："您希望的画面是简约线稿风格，主题为“玩耍”。为了更精准优化提示词，请问：
                 1. 想表现什么角色在玩耍？（如儿童、动物、特定人物）
                 2. 场景有偏好吗？（如户外、室内、公园、沙滩）
                 3. 需要单幅线稿还是包含多个动作的连续线稿？"
    
    用户输入："晒太阳，不要再问了"
    AI回复："AUTO_DRAW minimal bask in the sun, simple clean lines, ACGN, cute, cat"
    """;

    /**
     * 用户角色
     */
    String USER_ROLE = "user";

    /**
     * 助手角色
     */
    String ASSISTANT_ROLE = "assistant";

    /**
     * 系统角色
     */
    String SYSTEM_ROLE = "system";

}
